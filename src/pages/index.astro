---
import {getCollection} from 'astro:content';
import LessonList from '../components/LessonList.tsx';
import ArticleWithTitleLayout from '../layouts/ArticleWithTitleLayout.astro';

const lessons = await getCollection('lessons');

const lessonData = lessons
  .filter((lesson) => lesson.data.published)
  .map((lesson) => ({...lesson.data, id: lesson.id}));
---

<ArticleWithTitleLayout
  title="All Lessons"
  description="Browse all available lessons below."
>
  <LessonList client:load lessons={lessonData} />
</ArticleWithTitleLayout>
